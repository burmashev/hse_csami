<html><head><meta charset="utf-8"/></head>
<body>
<table border="1"><tr><td><b>Time limit:</b></td><td><tt>1 s</tt></td></tr>
<tr><td><b>Real time limit:</b></td><td><tt>5 s</tt></td></tr>
<tr><td><b>Memory limit:</b></td><td><tt>64M</tt></td></tr>
</table>
<h3>Problem kr05-2: kr5/runenv</h3>
<p>Напишите функцию <code>int run_env(const char* cmd)</code>, которая разбирает и выполняет строки такого вида:</p>
<pre>VAR1=value VAR2=somet=hing   =empty cmd arg1  ar=g2</pre>
<p>Строка разделяется на слова пробельными символами (согласно isspace(3)).
                    В начале и конце строки могут находиться дополнительные пробельные символы. Некоторое количество слов в начале
                    команды может содержать знак равенства <code>=</code>; такие слова считаются присвоением значения
                    переменной окружения, причём имя переменной — часть слова до первого знака равенства, а значение
                    — часть слова после первого знака равенства. Для вышеприведённой строки должны быть выставлены такие
                    переменные окружения: <code>"VAR1" → "value", "VAR2" → "somet=hing", "" → "empty"</code>
                    и с этим окружением запущена команда <code>cmd</code> с <code>argv[1] → "arg1", argv[2] → "ar=g2"</code>.
                    Все прочие переменные окружения (не заданные в строке) предварительно должны быть очищены.</p>
<p>Функция должна обрабатывать строку в отдельном процессе.
                    Если в строке нет команды или системный вызов семейства exec вернул ошибку,
                    процесс должен завершиться с кодом 127.</p>
<p>Функция должна вернуть статус завершения дочернего процесса (значение, которое установил системный вызов семейства wait),
                    либо -1, если дочерний процесс создать не удалось.</p>
<p>Функция поддерживает только абсолютные пути к выполняемым командам (в частности, не должна пользоваться переменной окружения PATH).</p>
</body></html>