<html><head><meta charset="utf-8"/></head>
<body>
<table border="1"><tr><td><b>Time limit:</b></td><td><tt>1 s</tt></td></tr>
<tr><td><b>Real time limit:</b></td><td><tt>5 s</tt></td></tr>
<tr><td><b>Memory limit:</b></td><td><tt>64M</tt></td></tr>
</table>
<h3>Problem sm02-4: asm/algorithms/pers-stack</h3>
<p>
            Напишите программу, реализующую операции над персистентным стеком.</p>
<p>На стандартном входе программе подаётся не более 1000 команд в виде 32-битных знаковых чисел:</p>
<ul>
<li><code>i x   </code> (i &gt;= 0) — push(i, x);</li>
<li><code>i     </code> (i &lt; 0) – pop(-i), распечатывает извлечённое из стека число. При попытке извлечения числа из пустого стека печатает -1 и не создаёт нового состояния.</li>
</ul>
<p>Элемент стека должен храниться в памяти в виде двух машинных слов: (1) хранимое число и (2) адрес элемента-предка. Элементы стека должны храниться в статически заданном массиве достаточного размера. Пустой стек обозначается нулевым адресом элемента-предка.</p>
<h3>Examples</h3><h4>Input</h4>
<pre>0 100
1 200
-1
-2</pre>
<h4>Output</h4>
<pre>100
200</pre>
</body></html>