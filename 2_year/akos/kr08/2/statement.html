<html><head><meta charset="utf-8"/></head>
<body>
<table border="1"><tr><td><b>Time limit:</b></td><td><tt>1 s</tt></td></tr>
<tr><td><b>Real time limit:</b></td><td><tt>1 s</tt></td></tr>
<tr><td><b>Memory limit:</b></td><td><tt>64M</tt></td></tr>
</table>
<h3>Problem kr08-2: kr8/batch_worker</h3>
<p>Напишите программу <code>batch_worker n</code>, которая,
        используя не более, чем n тредов, получает команды со стандартного потока ввода
        и выполняет их.</p>
<p>Во внешнем файле определены функции <code>void fun0(int no)</code>,
        <code>void fun1(void)</code>, которые соответствуют подаваемым программе командам.
        Также определена функция <code>int get_result_state(void)</code>.</p>
<p>На стандартный поток входа подаются k + 1 строка. Первая строка
        содержит одно целое число k, в следующих k строках подаются команды
        в указанном формате, которые должна выполнить программа.</p>
<p>Одна строка со стандартного потока ввода соответствует одной команде,
        которую должна выполнить программа. Строки могут иметь вид: </p>
<ul>
<li>"0 {some_number}". Программа должна выполнить функцию
            <code>fun0(some_number)</code>.</li>
<li>"1". Программа должна выполнить функцию
            <code>fun1()</code>.</li>
</ul>
<p>После завершения всех команд программа должна вывести число, получаемое от
        функции <code>int get_result_state(void)</code>, на стандартный поток вывода, корректно завершить все треды и завершить работу.</p>
<p>Гарантируется,
        что программа может создать переданное количество тредов.
        Гарантируется, что указанного количества тредов хватает, чтобы программа
        корректно выполнила все задачи в указанное время.</p>
<h3>Examples</h3><h4>Input</h4>
<pre>./batch_worker 4
5
0 15
1
0 16
1
1</pre>
<h4>Output</h4>
<pre>115</pre>
</body></html>