<html><head><meta charset="utf-8"/></head>
<body>
<table border="1"><tr><td><b>Time limit:</b></td><td><tt>1 s</tt></td></tr>
<tr><td><b>Real time limit:</b></td><td><tt>5 s</tt></td></tr>
<tr><td><b>Memory limit:</b></td><td><tt>64M</tt></td></tr>
</table>
<h3>Problem kr03-2: kr3/rdtsc</h3>
<p>Инструкция rdtsc считывает из внутреннего регистра процессора
          64-битный счётчик времени и записывает его старшие 32 бита в edx, а
          младшие в eax.</p>
<p>Напишите функцию</p>
<pre>void work_until_deadline(const uint64_t *deadline, void (*do_work)()),</pre>
<p>которая работает аналогично следующему циклу:</p>
<pre>while (rdtsc() &lt; *deadline) { do_work(); }</pre>
<p>(в предположении, что функция rdtsc возвращает результат исполнения инструкции
          rdtsc как 64-битное беззнаковое целое число).
          Функция <code>do_work</code> может менять значение <code>*deadline</code>.
      </p>
</body></html>