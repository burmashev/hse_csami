|                      |       |
|----------------------|-------|
| **Time limit:**      | `1 s` |
| **Real time limit:** | `5 s` |
| **Memory limit:**    | `64M` |


### Problem sm18-3: unix/threads/create

Реализуйте создание и ожидание завершения треда с помощью системного вызова `clone`.

Определите тип `caos_thread_t` и функции:

    
    
    caos_thread_t* caos_thread_create(int (*func)(void*), void *arg);
    int caos_thread_retval(caos_thread_t *thread);

Функция `caos_thread_create` аллоцирует пространство размером 1 MiB для стека (и, возможно, для
какой-то ещё служебной информации) и c помощью `clone(2)` запускает на этом стеке функцию `func` с
аргументом `arg` в отдельном треде.

Функция `caos_thread_retval` дожидается завершения треда thread и возвращает значение, которое
вернула func. Память, аллоцированную для стека, освобождать не нужно.

Используйте для clone флаги `CLONE_THREAD | CLONE_VM | CLONE_SIGHAND`.

Поскольку между тредами невозможен wait(), созданный тред должен сам как-то сигнализировать о своём
завершении после выхода из func.

В реализации функций не должно быть активного ожидания.

Тестирующая программа будет компилироваться без опции `-pthread`.

Эта задача была практически [разобрана на семинаре 201 группы](https://github.com/avm/caos-
sem-2021/blob/master/thread/thread.c). Постарайтесь игнорировать этот факт и решить задачу
самостоятельно.

